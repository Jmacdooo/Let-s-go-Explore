<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Forever Dog ‚Äî Parks</title>
<style>
  body{
    margin:0;
    background:#bde0fe;
    overflow:hidden;
    font-family: system-ui, -apple-system, sans-serif;
  }
  canvas{
    display:block;
    width:100vw;
    height:100vh;
  }
  #controls{
    position:fixed;
    left:10px;
    top:10px;
    z-index:10;
    background:rgba(255,255,255,.9);
    padding:8px 10px;
    border-radius:12px;
    box-shadow:0 4px 12px rgba(0,0,0,.2);
  }
  button{
    padding:8px 10px;
    margin:2px;
    border-radius:10px;
    border:none;
    cursor:pointer;
    font-weight:600;
    background:#ffb703;
  }
  #msg{
    position:fixed;
    left:50%;
    bottom:12px;
    transform:translateX(-50%);
    background:rgba(255,255,255,.95);
    padding:8px 14px;
    border-radius:14px;
    box-shadow:0 4px 12px rgba(0,0,0,.2);
    font-size:14px;
    max-width:90vw;
    text-align:center;
  }
</style>
</head>
<body>

<div id="controls">
  <button id="leftBtn">‚¨Ö Walk</button>
  <button id="stopBtn">‚è∏ Stop</button>
  <button id="rightBtn">Walk ‚û°</button>
  <button id="petBtn">‚ù§Ô∏è Pet</button>
  <button id="feedBtn">üçñ Feed</button>
</div>

<div id="msg">Walk to visit the 3 national parks!</div>

<canvas id="game"></canvas>

<script>
/* =========================================================
   FINAL DOG SIZE FIX ‚Äî BIG DOG + SAME GROUND LEVEL
   ========================================================= */

const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const msgEl = document.getElementById("msg");

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

// üëâ This controls how big the dog is. Increase if needed.
const DOG_HEIGHT = 420;  // was 260 ‚Üí try 420 (BIG). If still small ‚Üí 500.

const FRAME_RATE = 7;
const IMG_PATH = "assets/";

const parks = [
  { name:"Yosemite", pos:.25, subtitle:"Half Dome", visited:false },
  { name:"Yellowstone", pos:.50, subtitle:"Old Faithful", visited:false },
  { name:"Acadia", pos:.75, subtitle:"Cadillac Mountain", visited:false }
];

// ---------- image loading ----------
const art = {};
function load(name){
  const img = new Image();
  img.src = IMG_PATH + name + ".png";
  art[name] = img;
}
load("dog_idle");
load("dog_walk");
load("dog_eat");
load("dog_paw");
load("dog_sleep");

// ---------- DOG ----------
const dog = {
  x: canvas.width * 0.15,
  dir: 1,
  speed: 8,
  state: "idle",
  frame: 0
};

function groundY(){
  return canvas.height - 100; // üëà FEET always here
}

// ---------- CONTROLS ----------
const leftBtn=document.getElementById("leftBtn");
const rightBtn=document.getElementById("rightBtn");
const stopBtn=document.getElementById("stopBtn");
const petBtn=document.getElementById("petBtn");
const feedBtn=document.getElementById("feedBtn");

leftBtn.onclick = ()=>{ dog.state="walk"; dog.dir=-1; };
rightBtn.onclick= ()=>{ dog.state="walk"; dog.dir=1; };
stopBtn.onclick = ()=>{ dog.state="idle"; };
petBtn.onclick  = ()=>{ dog.state="paw"; showMsg("‚ù§Ô∏è Petting"); };
feedBtn.onclick = ()=>{ dog.state="eat"; showMsg("üçñ Feeding"); };

window.onkeydown = (e)=>{
  if(e.key==="ArrowLeft") leftBtn.onclick();
  if(e.key==="ArrowRight") rightBtn.onclick();
  if(e.key===" ") stopBtn.onclick();
};

// ---------- MESSAGE ----------
let msgTimer = 0;
function showMsg(txt){
  msgEl.textContent = txt;
  msgTimer = 90;
}

// ---------- UPDATE ----------
function update(){
  if(dog.state==="walk"){
    dog.x += dog.dir * dog.speed;
  }
  dog.x = Math.max(50, Math.min(canvas.width-50, dog.x));

  parks.forEach(p=>{
    const px = p.pos * canvas.width;
    if(!p.visited && Math.abs(dog.x - px) < 40 && dog.state==="walk"){
      dog.state="idle"; p.visited=true;
      showMsg("üìç "+p.name+" ‚Äî "+p.subtitle);
    }
  });

  if(msgTimer>0){ msgTimer--; if(msgTimer===0) msgEl.textContent=""; }

  dog.frame++;
}

// ---------- DRAW ----------
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // background
  ctx.fillStyle="#bde0fe"; ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#90e0ef"; ctx.fillRect(0,groundY(),canvas.width,200);

  // signs
  ctx.fillStyle="black";
  parks.forEach(p=>{
    const x=p.pos*canvas.width;
    ctx.fillRect(x-2,groundY()-90,4,90);
    ctx.fillStyle="white"; ctx.fillRect(x-70,groundY()-120,140,30);
    ctx.fillStyle="black"; ctx.fillText(p.name, x-50, groundY()-100);
  });

  // dog sprite
  const state = dog.state;
  let img = art.dog_idle;
  let frames = 1;
  if(state==="walk"){ img=art.dog_walk; frames=5; }
  if(state==="eat") img=art.dog_eat;
  if(state==="paw") img=art.dog_paw;
  if(state==="sleep")img=art.dog_sleep;

  if(img.complete){
    const fw = img.width/frames;
    const fh = img.height;
    const scale = DOG_HEIGHT/fh;
    const drawW = fw*scale;
    const drawH = fh*scale;
    const frame = frames>1 ? Math.floor(dog.frame/FRAME_RATE)%frames : 0;
    const sx = frame*fw;
    const dx = dog.x - drawW/2;
    const dy = groundY() - drawH;

    ctx.save();
    if(dog.dir<0){
      ctx.scale(-1,1);
      ctx.drawImage(img, sx,0,fw,fh, -dx-drawW,dy, drawW,drawH);
    } else {
      ctx.drawImage(img, sx,0,fw,fh, dx,dy, drawW,drawH);
    }
    ctx.restore();
  }
}

// ---------- LOOP ----------
function loop(){
  update();
  draw();
  requestAnimationFrame(loop);
}
loop();
</script>



</body>
</html>
