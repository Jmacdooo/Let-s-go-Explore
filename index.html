<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Forever Dog ‚Äî Simple Yosemite Walk</title>
<style>
  body{
    margin:0;
    background:#000;
    overflow:hidden;
    font-family:system-ui,-apple-system,sans-serif;
  }
  canvas{
    display:block;
    width:100vw;
    height:100vh;
  }

  /* Walk controls */
  #controls{
    position:fixed;
    top:10px;
    left:10px;
    z-index:20;
    background:#fff;
    padding:10px;
    border-radius:12px;
    box-shadow:0 4px 12px rgba(0,0,0,.25);
  }
  #controls button{
    padding:8px 12px;
    margin:4px;
    border:none;
    border-radius:8px;
    background:#ffb703;
    font-weight:bold;
    cursor:pointer;
  }

  /* Pet / Feed controls */
  #care{
    position:fixed;
    bottom:10px;
    left:50%;
    transform:translateX(-50%);
    z-index:20;
    background:#fff;
    padding:10px;
    border-radius:12px;
    box-shadow:0 4px 12px rgba(0,0,0,.25);
  }
  #care button{
    padding:8px 12px;
    margin:4px;
    border:none;
    border-radius:8px;
    background:#90e0ef;
    font-weight:bold;
    cursor:pointer;
  }

  /* Message bubble */
  #msg{
    position:fixed;
    bottom:80px;
    left:50%;
    transform:translateX(-50%);
    z-index:20;
    background:#fff;
    padding:8px 14px;
    border-radius:14px;
    box-shadow:0 4px 12px rgba(0,0,0,.25);
    font-size:15px;
    font-weight:500;
    max-width:90%;
    text-align:center;
  }
</style>
</head>
<body>

<div id="controls">
  <button id="leftBtn">‚¨Ö Walk</button>
  <button id="stopBtn">‚è∏ Stop</button>
  <button id="rightBtn">Walk ‚û°</button>
</div>

<div id="care">
  <button id="petBtn">‚ù§Ô∏è Pet</button>
  <button id="feedBtn">üçñ Feed</button>
</div>

<div id="msg">If you see this text, the game is running. Try walking your dog!</div>

<canvas id="game"></canvas>

<script>
// --------------------------------------------------
// BASIC CANVAS SETUP
// --------------------------------------------------
const canvas = document.getElementById("game");
const ctx    = canvas.getContext("2d");
const msgEl  = document.getElementById("msg");

function resize(){
  canvas.width  = window.innerWidth;
  canvas.height = window.innerHeight;
  placeDogOnGround();
}
window.addEventListener("resize", resize);
resize();

function dogGroundY(){ return canvas.height - 80; } // where his paws go

// --------------------------------------------------
// IMAGES (PATHS MUST MATCH YOUR SCREENSHOT)
// --------------------------------------------------
// You showed: assets/yosemite.png and assets/dog_walk.png

const bgImg  = new Image();
bgImg.src    = "assets/yosemite.png";

const dogImg = new Image();
dogImg.src   = "assets/dog_walk.png";

// --------------------------------------------------
// DOG SPRITE SETTINGS (6-FRAME STRIP, FACING RIGHT)
// --------------------------------------------------
const DOG_FRAMES   = 6;
const DOG_FRAME_W  = 256;    // width of one dog frame
const DOG_FRAME_H  = 256;    // height of one dog frame
const DOG_SCALE    = 0.8;    // size on screen
const DOG_SPEED    = 260;    // pixels per second
const DOG_ANIM_FPS = 8;      // animation speed

const dog = {
  x: 200,
  y: 0,
  dir: 1,        // 1 = RIGHT, -1 = LEFT ‚Äî your art FACES RIGHT by default
  state: "idle", // "idle" or "walk"
  frame: 0,
  frameTime: 0
};

function placeDogOnGround(){
  dog.y = dogGroundY() - DOG_FRAME_H * DOG_SCALE;
}

// --------------------------------------------------
// BUTTONS
// --------------------------------------------------
const leftBtn  = document.getElementById("leftBtn");
const rightBtn = document.getElementById("rightBtn");
const stopBtn  = document.getElementById("stopBtn");
const petBtn   = document.getElementById("petBtn");
const feedBtn  = document.getElementById("feedBtn");

function setMsg(text){ msgEl.textContent = text; }

leftBtn.onclick = () => {
  dog.dir = -1;
  dog.state = "walk";
  setMsg("Walking left‚Ä¶");
};

rightBtn.onclick = () => {
  dog.dir = 1;
  dog.state = "walk";
  setMsg("Walking right‚Ä¶");
};

stopBtn.onclick = () => {
  dog.state = "idle";
  setMsg("Stopped. Use the arrow buttons or keys to walk.");
};

petBtn.onclick = () => {
  dog.state = "idle";
  setMsg("Your dog loves pets ‚ù§Ô∏è");
};

feedBtn.onclick = () => {
  dog.state = "idle";
  setMsg("Yum! Snack time üçñ");
};

// keyboard shortcuts
window.addEventListener("keydown", e => {
  if (e.key === "ArrowLeft")  leftBtn.onclick();
  if (e.key === "ArrowRight") rightBtn.onclick();
  if (e.key === " ")          stopBtn.onclick();
});

// --------------------------------------------------
// UPDATE
// --------------------------------------------------
let lastTime = performance.now();

function update(dt){
  // movement
  if (dog.state === "walk") {
    dog.x += dog.dir * DOG_SPEED * dt;
  }
  // keep on screen
  dog.x = Math.max(80, Math.min(canvas.width - 80, dog.x));

  // animation
  if (dog.state === "walk") {
    dog.frameTime += dt;
    const frameDur = 1 / DOG_ANIM_FPS;
    while (dog.frameTime >= frameDur) {
      dog.frameTime -= frameDur;
      dog.frame = (dog.frame + 1) % DOG_FRAMES;
    }
  } else {
    dog.frame = 0;
  }
}

// --------------------------------------------------
// DRAW
// --------------------------------------------------
function drawBackground(){
  if (bgImg.complete && bgImg.naturalWidth > 0) {
    // cover canvas with Yosemite, preserving aspect ratio
    const img = bgImg;
    const imgW = img.width;
    const imgH = img.height;
    const imgAspect = imgW / imgH;
    const canvasAspect = canvas.width / canvas.height;

    let drawW, drawH, drawX, drawY;
    if (canvasAspect > imgAspect) {
      drawW = canvas.width;
      drawH = canvas.width / imgAspect;
      drawX = 0;
      drawY = (canvas.height - drawH) / 2;
    } else {
      drawH = canvas.height;
      drawW = canvas.height * imgAspect;
      drawX = (canvas.width - drawW) / 2;
      drawY = 0;
    }
    ctx.drawImage(img, drawX, drawY, drawW, drawH);
  } else {
    // fallback sky so it's never just black
    const g = ctx.createLinearGradient(0,0,0,canvas.height);
    g.addColorStop(0,"#87CEEB");
    g.addColorStop(1,"#E0F6FF");
    ctx.fillStyle = g;
    ctx.fillRect(0,0,canvas.width,canvas.height);
  }

  // soft ground strip
  const gy = dogGroundY();
  ctx.fillStyle = "rgba(255,255,255,0.25)";
  ctx.fillRect(0, gy, canvas.width, canvas.height - gy);
}

function drawDog(){
  if (!dogImg.complete || dogImg.naturalWidth === 0) return;

  const sx = dog.frame * DOG_FRAME_W;
  const sy = 0;

  const dw = DOG_FRAME_W * DOG_SCALE;
  const dh = DOG_FRAME_H * DOG_SCALE;
  const dx = dog.x - dw / 2;
  const dy = dog.y;

  ctx.save();
  // sprite faces RIGHT by default ‚Üí flip only when walking LEFT
  if (dog.dir === -1) {
    ctx.scale(-1, 1);
    ctx.drawImage(
      dogImg,
      sx, sy, DOG_FRAME_W, DOG_FRAME_H,
      -dx - dw, dy,
      dw, dh
    );
  } else {
    ctx.drawImage(
      dogImg,
      sx, sy, DOG_FRAME_W, DOG_FRAME_H,
      dx, dy,
      dw, dh
    );
  }
  ctx.restore();
}

// --------------------------------------------------
// MAIN LOOP
// --------------------------------------------------
function loop(time){
  const dt = (time - lastTime) / 1000;
  lastTime = time;

  update(dt);
  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawBackground();
  drawDog();

  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);
</script>
</body>
</html>
