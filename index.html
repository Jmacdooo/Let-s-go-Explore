<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Forever Dog ‚Äî RESET 2025 BUILD</title>
<style>
  body{margin:0;background:#000;overflow:hidden;font-family:system-ui,-apple-system,sans-serif;}
  canvas{display:block;width:100vw;height:100vh;}

  /* WALK CONTROLS */
  #controls{
    position:fixed;top:10px;left:10px;z-index:20;
    background:white;padding:10px;border-radius:12px;
    box-shadow:0 4px 12px rgba(0,0,0,.25);
  }
  #controls button{
    padding:8px 12px;margin:4px;border:none;border-radius:8px;
    background:#ffb703;font-weight:bold;cursor:pointer;
  }

  /* PET + FEED */
  #care{
    position:fixed;bottom:10px;left:50%;transform:translateX(-50%);
    background:white;padding:10px;border-radius:12px;
    z-index:20;box-shadow:0 4px 12px rgba(0,0,0,.25);
  }
  #care button{
    padding:8px 12px;margin:4px;border:none;border-radius:8px;
    background:#90e0ef;font-weight:bold;cursor:pointer;
  }

  /* MESSAGE */
  #msg{
    position:fixed;bottom:80px;left:50%;transform:translateX(-50%);
    background:white;padding:8px 14px;border-radius:14px;
    z-index:20;box-shadow:0 4px 12px rgba(0,0,0,.25);
    font-size:15px;font-weight:500;max-width:90%;
  }
</style>
</head>
<body>

<!-- WALKING -->
<div id="controls">
  <button id="leftBtn">‚¨Ö Walk</button>
  <button id="stopBtn">‚è∏ Stop</button>
  <button id="rightBtn">Walk ‚û°</button>
</div>

<!-- PET / FEED -->
<div id="care">
  <button id="petBtn">‚ù§Ô∏è Pet</button>
  <button id="feedBtn">üçñ Feed</button>
</div>

<!-- MESSAGE AREA -->
<div id="msg">Hello! Walk your dog or pet / feed them!</div>

<canvas id="game"></canvas>

<script>
// ========================================================
// BASIC SETUP
// ========================================================
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
function size(){canvas.width=innerWidth;canvas.height=innerHeight;placeDog();}
addEventListener("resize",size); size();

// ========================================================
// IMAGES (CHANGE FILENAMES HERE IF NEEDED)
// ========================================================
const bg = new Image();
bg.src = "assets/yosemite.png";        // <--- main background

const dogImg = new Image();
dogImg.src = "assets/dog_walk.png";     // <--- 6-frame strip

// If your file name is different, TELL ME and I‚Äôll fix it.

// ========================================================
// DOG SETTINGS (6 FRAME WALK)
// ========================================================
const FRAMES = 6;
const W = 256, H = 256;
const SPEED = 240;
const SCALE = 0.8;
const FPS = 8;

const dog = {
  x: 200,
  y: 0,
  dir: -1,       // -1 = left, 1 = right  | YOUR SPRITE FACES LEFT BY DEFAULT
  state:"idle",  // idle or walk
  frame:0,
  ft:0
};

function placeDog(){
  dog.y = canvas.height - (H*SCALE) - 10;
}

// ========================================================
// BUTTONS / ACTIONS
// ========================================================
leftBtn.onclick = ()=>{ dog.dir=-1;dog.state="walk";msg("Walking left‚Ä¶"); };
rightBtn.onclick=()=>{ dog.dir=1; dog.state="walk";msg("Walking right‚Ä¶");};
stopBtn.onclick =()=>{ dog.state="idle";msg("Stopped."); };

petBtn.onclick = ()=>{ dog.state="idle";msg("Your dog loves pets ‚ù§Ô∏è"); };
feedBtn.onclick= ()=>{ dog.state="idle";msg("Yum! Snack time üçñ"); };

// keyboard
addEventListener("keydown",e=>{
  if(e.key==="ArrowLeft") leftBtn.onclick();
  if(e.key==="ArrowRight")rightBtn.onclick();
  if(e.key===" ")          stopBtn.onclick();
});

// message helper
function msg(text){ document.getElementById("msg").textContent=text; }

// ========================================================
// UPDATE (movement + animation)
// ========================================================
let last=0;
function update(dt){
  if(dog.state==="walk"){
    dog.x += dog.dir * SPEED * dt;
  }

  dog.x = Math.max(80,Math.min(canvas.width-80,dog.x));

  if(dog.state==="walk"){
    dog.ft+=dt;
    if(dog.ft>1/FPS){
      dog.ft=0;
      dog.frame=(dog.frame+1)%FRAMES; // USE ALL 6 FRAMES
    }
  } else {
    dog.frame=0;
  }
}

// ========================================================
// DRAW
// ========================================================
function draw(){
  // background fallback
  if(bg.complete && bg.naturalWidth > 0){
    ctx.drawImage(bg,0,0,canvas.width,canvas.height);
  } else {
    // if yosemite not loaded: soft sky
    const sky = ctx.createLinearGradient(0,0,0,canvas.height);
    sky.addColorStop(0,"#87CEEB");
    sky.addColorStop(1,"#E0F6FF");
    ctx.fillStyle = sky;
    ctx.fillRect(0,0,canvas.width,canvas.height);
  }

  // ground strip (makes dog look like standing)
  ctx.fillStyle="rgba(255,255,255,0.3)";
  ctx.fillRect(0, canvas.height-80, canvas.width, 100);

  // draw dog
  if(dogImg.complete && dogImg.naturalWidth>0){
    const sx = dog.frame * W;
    const dx = dog.x - (W*SCALE)/2;
    const dy = dog.y;

    ctx.save();
    if(dog.dir===1){ // flip when going RIGHT
      ctx.scale(-1,1);
      ctx.drawImage(dogImg, sx,0,W,H, -(dx+W*SCALE), dy, W*SCALE,H*SCALE);
    } else {
      ctx.drawImage(dogImg, sx,0,W,H, dx,dy, W*SCALE,H*SCALE);
    }
    ctx.restore();
  }
}


    ctx.restore();
  }
}

// ========================================================
// MAIN LOOP
// ========================================================
function loop(t){
  const dt=(t-last)/1000;last=t;
  update(dt);
  ctx.clearRect(0,0,canvas.width,canvas.height);
  draw();
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);

// ========================================================
// END OF RESET BUILD
// ========================================================
</script>
</body>
</html>
